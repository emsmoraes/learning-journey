# Aprendizado de Hoje - 13 de Dezembro de 2024

## Tags
`C#` `HttpClient` `JsonSerializer` `Deserialização`

---

## Requisições HTTP com `HttpClient` em C#

Hoje aprendi a realizar **requisições HTTP** com o `HttpClient` e deserializar JSON utilizando `System.Text.Json`.

### Exemplo de Código

```
using System.Text.Json;
using System.Text.Json.Serialization;

internal class Musica
{
    [JsonPropertyName("song")]
    public string? Nome { get; set; }
    [JsonPropertyName("artist")]
    public string? Artista { get; set; }
    [JsonPropertyName("duration_ms")]
    public int Duracao { get; set; }

    public void ExibirDetalhesDaMusica()
    {
        Console.WriteLine($"Nome: {Nome}");
        Console.WriteLine($"Artista: {Artista}");
        Console.WriteLine($"Duração em seg(s): {Duracao/1000}");
    }
}

using (HttpClient client = new())
{
    try
    {
        string res = await client.GetStringAsync("https://guilhermeonrails.github.io/api-csharp-songs/songs.json");
        var musicas = JsonSerializer.Deserialize<List<Musica>>(res);

        musicas?.ForEach(m => m.ExibirDetalhesDaMusica());
    }
    catch (Exception ex)
    {
        Console.WriteLine($"Temos um problema: {ex.Message}");
    }
}
```

---

### **O que aprendi:**
1. Fazer **requisições HTTP** com `HttpClient`.
2. Deserializar JSON em objetos usando `JsonSerializer`.
3. Exibir dados formatados com um método auxiliar.

---
